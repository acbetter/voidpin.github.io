<!DOCTYPE html>
<html class="no-js" lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Event Timer 事件时间表 - 激战2 虚空徽记 Beta版 | GuildWars2 VoidPin Beta</title>
	<script>(function(d,e){d[e]=d[e].replace("no-js","js");})(document.documentElement,"className");</script>
	<meta name="description" content="">
		<meta itemprop="name" content="Event Timer 事件时间表">
<meta itemprop="description" content="如需查看完整的事件时间表，请访问 官方维基事件时间表 或者在游戏聊天窗内输入命令 /wiki et。
.etwrapper {font-size: 14px;color: #333;position: relative;padding-top: 1em;padding-bottom: 2em;}.etwrapper  h1 {margin: 0;}.etwrapper  h1,.etwrapper  h2 {font-size: 2.5em;}.etwrapper  h2 {font-size: 1.5em;font-weight: bold;width: 100%;margin: 0.25em 0;color: black;}.etline {position: absolute;height: 100%;border-left: 2px solid red;z-index: 400;top: 0;transition: left 1s ease-in-out;}.">
<meta itemprop="datePublished" content="2020-10-24T00:00:00+00:00" />
<meta itemprop="dateModified" content="2020-10-24T00:00:00+00:00" />
<meta itemprop="wordCount" content="1732">



<meta itemprop="keywords" content="" />

		<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Event Timer 事件时间表"/>
<meta name="twitter:description" content="如需查看完整的事件时间表，请访问 官方维基事件时间表 或者在游戏聊天窗内输入命令 /wiki et。
.etwrapper {font-size: 14px;color: #333;position: relative;padding-top: 1em;padding-bottom: 2em;}.etwrapper  h1 {margin: 0;}.etwrapper  h1,.etwrapper  h2 {font-size: 2.5em;}.etwrapper  h2 {font-size: 1.5em;font-weight: bold;width: 100%;margin: 0.25em 0;color: black;}.etline {position: absolute;height: 100%;border-left: 2px solid red;z-index: 400;top: 0;transition: left 1s ease-in-out;}."/>


	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/voidpin/css/custom.css">

	<link rel="shortcut icon" href="/favicon.ico">
		
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-120519766-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</head>
<body class="body">
	<div class="container container--outer">
		<header class="header">
	<div class="container header__container">
		
	<div class="logo logo--mixed">
		<a class="logo__link" href="/" title="激战2 虚空徽记 Beta版 | GuildWars2 VoidPin Beta" rel="home">
			<div class="logo__item logo__imagebox">
					<img class="logo__img" src="/voidpin/images/QQ20210124-0.jpg">
				</div><div class="logo__item logo__text">
					<div class="logo__title">激战2 虚空徽记 Beta版 | GuildWars2 VoidPin Beta</div>
					<div class="logo__tagline">voidpin.com 来自欧服的激战2中文攻略站。An EU based guide site for CN players.</div>
				</div>
		</a>
	</div>
		
<nav class="menu">
	<button class="menu__btn" aria-haspopup="true" aria-expanded="false" tabindex="0">
		<span class="menu__btn-title" tabindex="-1">菜单</span>
	</button>
	<ul class="menu__list">
		<li class="menu__item">
			<a class="menu__link" href="/posts/">
				
				<span class="menu__text">游戏资讯</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/tutorials/">
				
				<span class="menu__text">新手上路</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/guides/">
				
				<span class="menu__text">游戏攻略</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/pve/">
				
				<span class="menu__text">P V E</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/pvp/">
				
				<span class="menu__text">竞 技</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/wvw/">
				
				<span class="menu__text">世界之战</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/builds/">
				
				<span class="menu__text">职业配装</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/files/">
				
				<span class="menu__text">文件下载</span>
				
			</a>
		</li>
		<li class="menu__item">
			<a class="menu__link" href="/about/">
				
				<span class="menu__text">关于我们</span>
				
			</a>
		</li>
	</ul>
</nav>

	</div>
</header>
		<div class="wrapper flex">
			<div class="primary">
			
<main class="main" role="main">
	<article class="post">
		<header class="post__header">
			<h1 class="post__title">Event Timer 事件时间表</h1>
			<div class="post__meta meta">
<div class="meta__item-datetime meta__item">
	<svg class="meta__icon icon icon-time" width="16" height="14" viewBox="0 0 30 28"><path d="M15 0C7 0 1 6 1 14s6 14 14 14 14-6 14-14S23 0 15 0zm0 25C9 25 4 20 4 14S9 3 15 3s11 5 11 11-5 11-11 11zm1-18h-2v8.4l6.8 4.4L22 18l-6-3.8V7z"/></svg><time class="meta__text" datetime="2020-10-24T00:00:00Z">2020-10-24</time></div></div>
		</header><div class="content post__content clearfix">
			
<p>如需查看完整的事件时间表，请访问 <a href="https://wiki.guildwars2.com/wiki/Event_timers">官方维基事件时间表</a> 或者在游戏聊天窗内输入命令 <code>/wiki et</code>。</p>

<script src="/npm/jquery@3.5.1/jquery.min.js"></script>
<script src="/npm/moment@2.5.1/min/moment.min.js"></script>

<style>
  .etwrapper {
    font-size: 14px;
    color: #333;
    position: relative;
    padding-top: 1em;
    padding-bottom: 2em;
  }
  .etwrapper > h1 {
    margin: 0;
  }
  .etwrapper > h1,
  .etwrapper > h2 {
    font-size: 2.5em;
  }

  .etwrapper > h2 {
    font-size: 1.5em;
    font-weight: bold;
    width: 100%;
    margin: 0.25em 0;
    color: black;
  }

  .etline {
    position: absolute;
    height: 100%;
    border-left: 2px solid red;
    z-index: 400;
    top: 0;
    transition: left 1s ease-in-out;
  }

  .etline .etflag {
    position: absolute;
    background: red;
    color: white;
    font-size: 0.8em;
    font-weight: bold;
    padding: 3px 5px;
    margin-left: 0px;
    display: block;
    width: 100px;
    height: 22px;
    right: -66px;
    text-align: center;
  }

  .etline .etflag::after {
    content: "";
    display: block;
    position: absolute;
    right: -10px;
    top: 0;
    width: 0;
    height: 0;
    border-right: 0 solid transparent;
    border-top: 11px solid transparent;
    border-left: 10px solid red;
    border-bottom: 11px solid transparent;
  }

  .etline strong {
    position: absolute;
    top: 2.1em;
    color: #b9b9b9;
    right: 6px;
    width: 10em;
    text-align: right;
  }

  .bar {
    display: flex;
    flex-wrap: nowrap;
    white-space: nowrap;
  }

  .bar button {
    font-size: 8px;
  }

  .bar > div {
    box-sizing: border-box;
    padding: 0.5em;
    font-size: 0.8em;
    position: relative;
    font-weight: bold;
    color: white;
  }

  .bar > div > span {
    display: inline-block;
  }

  .bar > div > strong {
    display: block;
    font-size: 1.3em;
  }
</style>

<div class="etwrapper"></div>

<script>
  // Information on all the map metas
  // Each has a name and a list of phases, with
  // each phase having an offset from the previous phase
  // (or start of every even hour for the first phase per meta)
  // using server time (UTC)

  var setupBarsInterval = null;
  var moveLineInterval = null;
  var updateTimesInterval = null;

  function getMaps() {
    var events = {
      boss: { name: "World Boss 世界首领", phases: null },
      hdboss: { name: "Hard World Boss 困难世界首领", phases: null },
      pvp: { name: "PvP Tournaments 锦标赛", phases: null },
      vb: {
        name: "Verdant Brink 苍翠边界",
        phases: [
          { label: "", duration: 9, color: "#853088" },
          { label: "Night Bosses<br>母龙平台 <button onclick=\"copyToClipboard('Wyvern Matriarch [&BAgIAAA=]')\">复制位置</button>", duration: 21, color: "#3b163d" },
          { label: "Day<br>白天", duration: 75, color: "#c05ac4" },
          { label: "Night<br>夜晚", duration: 15, color: "#853088" },
        ],
      },
      ab: {
        name: "Auric Basin 赤金盆地",
        phases: [
          { label: "Pillars<br>哨站事件", duration: 45, color: "#00c80e" },
          { label: "Challenges<br>挑战", duration: 15, color: "#00950a" },
          { label: "Octovine<br>四门 八爪藤 <button onclick=\"copyToClipboard('Octovine [&BAIIAAA=]')\">复制位置</button>", duration: 20, color: "#006207" },
          { label: "Reset<br>重置", duration: 10, color: "#00950a" },
          { label: "Pillars<br>哨站事件", duration: 30, color: "#00c80e" },
        ],
      },
      td: {
        name: "Tangled Depths 缠藤深渊",
        phases: [
          { label: "", duration: 25, color: "#d97f7f" },
          { label: "Pre<br>前置", duration: 5, color: "#c23232" },
          { label: "Chak Gerent<br>查克虫王 <button onclick=\"copyToClipboard('Chak Gerent [&BPUHAAA=]')\">复制位置</button>", duration: 20, color: "#b30000" },
          { label: "Help the Outposts<br>前哨事件", duration: 70, color: "#d97f7f" },
        ],
      },
      co: {
        name: "Crystal Oasis 水晶绿洲",
        phases: [
          { label: "", duration: 5, color: "#F3C581" },
          { label: "Casino Blitz<br>赌场闪电战<br><button onclick=\"copyToClipboard('Casino Blitz [&BLsKAAA=]')\">复制位置</button>", duration: 15, color: "#E99315" },
          { label: "Choya Pinata<br>丘牙兽<br><button onclick=\"copyToClipboard('Choya Pinata [&BLsKAAA=]')\">复制位置</button>", duration: 5, color: "linear-gradient( 90deg, #F3C581, #E99315 )" },
          { label: "", duration: 95, color: "#F3C581" },
        ],
      },
      er: {
        name: "Elon Riverlands 伊伦河湾",
        phases: [
          { label: "Doppelganger<br>复制体 <button onclick=\"copyToClipboard('Doppelganger [&BLgKAAA=]')\">复制位置</button>", duration: 15, color: "linear-gradient( 90deg, #F3C581, #E99315 )" },
          { label: "", duration: 75, color: "#F3C581" },
          { label: "The Path to Ascension<br>晋升之路 <button onclick=\"copyToClipboard('The Path to Ascension [&BLgKAAA=]')\">复制位置</button>", duration: 30, color: "#E99315" },
        ],
      },
      dv: {
        name: "Domain of Vabbi 瓦比领域",
        phases: [
          { label: "Forged with Fire<br>战场恶犬 <button onclick=\"copyToClipboard('Forged with Fire [&BG0KAAA=]')\">复制位置</button>", duration: 30, color: "#E99315" },
          { label: "Serpent's Ire<br>巨蛇之怒 <button onclick=\"copyToClipboard('Serpent's Ire [&BPIKAAA=]')\">复制位置</button>", duration: 30, color: "#F3C581" },
          { label: "Forged with Fire<br>战场恶犬 <button onclick=\"copyToClipboard('Forged with Fire [&BG0KAAA=]')\">复制位置</button>", duration: 30, color: "#E99315" },
          { label: "", duration: 30, color: "#F3C581" },
        ],
      },
      dl: {
        name: "Desolation 荒芜之地",
        phases: [
          { label: "", duration: 30, color: "#F3C581" },
          { label: "Junundu Rising<br>巨努多地虫 <button onclick=\"copyToClipboard('Junundu Rising [&BFgKAAA=]')\">复制位置</button>", duration: 20, color: "#E99315" },
          { label: "", duration: 10, color: "#F3C581" },
          { label: "Maws of Torment<br>磨难血口 <button onclick=\"copyToClipboard('Maws of Torment [&BGQKAAA=]')\">复制位置</button>", duration: 20, color: "#E99315" },
          { label: "", duration: 10, color: "#F3C581" },
          { label: "Junundu Rising<br>巨努多地虫 <button onclick=\"copyToClipboard('Junundu Rising [&BFgKAAA=]')\">复制位置</button>", duration: 20, color: "#E99315" },
          { label: "", duration: 10, color: "#F3C581" },
        ],
      },
      di: {
        name: "Domain of Istan 伊斯坦领域",
        phases: [
          { label: "Palawadan<br>帕拉瓦之城", duration: 15, color: "#8440E8" },
          { label: "", duration: 5, color: "#B084F0" },
          { label: "Sunspear Uprising<br>烈阳之矛崛起 <button onclick=\"copyToClipboard('Sunspear Uprising [&BPcKAAA=]')\">复制位置</button>", duration: 15, color: "#8440E8" },
          { label: "", duration: 70, color: "#B084F0" },
          { label: "Palawadan<br>帕拉瓦之城 <button onclick=\"copyToClipboard('Palawadan [&BPcKAAA=]')\">复制位置</button>", duration: 15, color: "#8440E8" },
        ],
      },
      tp: {
        name: "Thunderhead Peaks 雷云高峰",
        phases: [
          { label: "Thunderhead Keep<br>雷云要塞", duration: 5, color: "#8440E8" },
          { label: "", duration: 40, color: "#B084F0" },
          { label: "The Oil Floes<br>石油 <button onclick=\"copyToClipboard('The Oil Floes [&BKYLAAA=]')\">复制位置</button>", duration: 15, color: "#8440E8" },
          { label: "", duration: 45, color: "#B084F0" },
          { label: "Thunderhead Keep<br>雷云要塞 <button onclick=\"copyToClipboard('Thunderhead Keep [&BLsLAAA=]')\">复制位置</button>", duration: 15, color: "#8440E8" },
        ],
      },
      bm: {
        name: "Bjora Marches 波卓拉边境",
        phases: [
          { label: "Icebrood Construct<br>冰巢构造体", duration: 5, color: "#21AAEF" },
          { label: "Clear Skies<br>奖励事件<br><button onclick=\"copyToClipboard('Clear Skies [&BCcMAAA=]')\">复制位置</button>", duration: 15, color: "linear-gradient( 90deg, #7ECEF6, #21AAEF )" },
          { label: "", duration: 45, color: "#7ECEF6" },
          { label: "Drakkar<br>德拉克<br><button onclick=\"copyToClipboard('Drakkar [&BEUMAAA=]')\">复制位置</button>", duration: 35, color: "#21AAEF" },
          { label: "", duration: 5, color: "#7ECEF6" },
          { label: "Defend Raven Shrines<br>保卫鸦灵圣坛<br><button onclick=\"copyToClipboard('Defend Raven Shrines [&BCcMAAA=]')\">复制位置</button>", duration: 15, color: "linear-gradient( 90deg, #21AAEF, #7ECEF6 )" },
        ],
      },
    };

    var bosses = [
      { label: "Admiral Taidha Covington<br>泰达·科文顿 <button onclick=\"copyToClipboard('Admiral Taidha Covington [&BKgBAAA=]')\">复制位置</button>", duration: 15, color: "#1A636B", start: ["00:00", "03:00", "06:00", "09:00", "12:00", "15:00", "18:00", "21:00"] },
      { label: "Svanir Shaman Chief<br>斯瓦尼亚萨满 <button onclick=\"copyToClipboard('Svanir Shaman Chief [&BH4BAAA=]')\">复制位置</button>", duration: 15, color: "#22ADB4", start: ["00:15", "02:15", "04:15", "06:15", "08:15", "10:15", "12:15", "14:15", "16:15", "18:15", "20:15", "22:15"] },
      { label: "Megadestroyer<br>超能毁灭者 <button onclick=\"copyToClipboard('Megadestroyer [&BM0CAAA=]')\">复制位置</button>", duration: 15, color: "#1A636B", start: ["00:30", "03:30", "06:30", "09:30", "12:30", "15:30", "18:30", "21:30"] },
      { label: "Fire Elemental<br>火焰元素 <button onclick=\"copyToClipboard('Fire Elemental [&BEYAAAA=]')\">复制位置</button>", duration: 15, color: "#22ADB4", start: ["00:45", "02:45", "04:45", "06:45", "08:45", "10:45", "12:45", "14:45", "16:45", "18:45", "20:45", "22:45"] },
      { label: "The Shatterer<br>碎裂巨兽 <button onclick=\"copyToClipboard('The Shatterer [&BE4DAAA=]')\">复制位置</button>", duration: 15, color: "#1A636B", start: ["01:00", "04:00", "07:00", "10:00", "13:00", "16:00", "19:00", "22:00"] },
      { label: "Great Jungle Wurm<br>巨型丛林地虫 <button onclick=\"copyToClipboard('Great Jungle Wurm [&BEEFAAA=]')\">复制位置</button>", duration: 15, color: "#22ADB4", start: ["01:15", "03:15", "05:15", "07:15", "09:15", "11:15", "13:15", "15:15", "17:15", "19:15", "21:15", "23:15"] },
      { label: "Modniir Ulgoth<br>莫迪尔沃尔格斯 <button onclick=\"copyToClipboard('Modniir Ulgoth [&BLEAAAA=]')\">复制位置</button>", duration: 15, color: "#1A636B", start: ["01:30", "04:30", "07:30", "10:30", "13:30", "16:30", "19:30", "22:30"] },
      { label: "Shadow Behemoth<br>暗影巨兽 <button onclick=\"copyToClipboard('Shadow Behemoth [&BPwAAAA=]')\">复制位置</button>", duration: 15, color: "#22ADB4", start: ["01:45", "03:45", "05:45", "07:45", "09:45", "11:45", "13:45", "15:45", "17:45", "19:45", "21:45", "23:45"] },
      { label: "Golem Mark II<br>魔像马克II型 <button onclick=\"copyToClipboard('Golem Mark II [&BNQCAAA=]')\">复制位置</button>", duration: 15, color: "#1A636B", start: ["02:00", "05:00", "08:00", "11:00", "14:00", "17:00", "20:00", "23:00"] },
      { label: "Claw of Jormag<br>卓玛之爪 <button onclick=\"copyToClipboard('Claw of Jormag [&BHoCAAA=]')\">复制位置</button>", duration: 15, color: "#1A636B", start: ["02:30", "05:30", "08:30", "11:30", "14:30", "17:30", "20:30", "23:30"] },
      { label: "Tequatl the Sunless<br>吞噬托 <button onclick=\"copyToClipboard('Tequatl the Sunless [&BCcMAAA=]')\">复制位置</button>", duration: 30, color: "#EA8B00", start: ["00:00", "03:00", "07:00", "11:30", "16:00", "19:00"] },
      { label: "Triple Trouble<br>三重麻烦 <button onclick=\"copyToClipboard('Triple Trouble [&BKoBAAA=]')\">复制位置</button>", duration: 30, color: "#EA8B00", start: ["01:00", "04:00", "08:00", "12:30", "17:00", "20:00"] },
      { label: "Karka Queen<br>喀壳虫女王 <button onclick=\"copyToClipboard('Karka Queen [&BNcGAAA=]')\">复制位置</button>", duration: 30, color: "#EA8B00", start: ["02:00", "06:00", "10:30", "15:00", "18:00", "23:00"] },
      { label: "", duration: 30, color: "#FFD937", start: ["00:30", "01:30", "02:30", "03:30", "06:30", "07:30", "10:00", "11:00", "12:00", "15:30", "16:30", "17:30", "18:30", "19:30", "23:30"] },
      { label: "", duration: 60, color: "#FFD937", start: ["14:00", "22:00"] },
      { label: "", duration: 90, color: "#FFD937", start: ["04:30"] },
      { label: "", duration: 120, color: "#FFD937", start: ["08:30", "13:00"] },
      { label: "", duration: 180, color: "#FFD937", start: ["20:30"] },
    ];

    // server time = UTC
    var currentTime = moment.utc();

    // Format with leading 0s so 09:08 doesn't end up as 9:8
    var hour = currentTime.hour();
    var baseHour = hour - (hour % 2);

    // world bosses
    var worldBossData = [];
    var hardcoreWorldBossData = [];

    bosses.forEach(function (boss) {
      var startHour = null;
      boss["start"].forEach(function (startTime) {
        startHour = parseInt(startTime.substring(0, 2));
        if (startHour >= baseHour && startHour - baseHour < 2) {
          if (boss["duration"] == 15) {
            worldBossData.push({ label: boss["label"], duration: boss["duration"], color: boss["color"], start: startTime });
          } else {
            hardcoreWorldBossData.push({ label: boss["label"], duration: boss["duration"], color: boss["color"], start: startTime });
          }
        }
      });
    });

    worldBossData.sort(function (a, b) {
      return parseInt(a.start.replace(":", "")) - parseInt(b.start.replace(":", ""));
    });
    events["boss"]["phases"] = worldBossData;

    hardcoreWorldBossData.sort(function (a, b) {
      return parseInt(a.start.replace(":", "")) - parseInt(b.start.replace(":", ""));
    });
    events["hdboss"]["phases"] = hardcoreWorldBossData;

    // PvP Tournaments
    var pvpTournamentsData = [];
    var pvps = [
      { label: "LFG<br>开始组队", duration: 15, color: "#28CED6", start: ["02:45", "05:45", "08:45", "11:45", "14:45", "17:45", "20:45", "23:45"] },
      { label: "Balthazar's Brawl<br>巴萨泽之拳", duration: 60, color: "#1A858A", start: ["00:00", "12:00"] },
      { label: "Grenth's Game<br>古兰斯的游戏", duration: 60, color: "#1A858A", start: ["03:00", "15:00"] },
      { label: "Lyssa's Legions<br>丽莎的军团", duration: 60, color: "#1A858A", start: ["06:00", "18:00"] },
      { label: "Melandru's Matchup<br>梅兰朵的比赛", duration: 60, color: "#1A858A", start: ["09:00", "21:00"] },
      { label: "", duration: 60, color: "#8BE5E9", start: ["01:00", "04:00", "07:00", "10:00", "13:00", "16:00", "19:00", "22:00"] },
      { label: "", duration: 45, color: "#8BE5E9", start: ["02:00", "05:00", "08:00", "11:00", "14:00", "17:00", "20:00", "23:00"] },
    ];

    pvps.forEach(function (pvp) {
      var startHour = null;
      pvp["start"].forEach(function (startTime) {
        startHour = parseInt(startTime.substring(0, 2));
        if (startHour >= baseHour && startHour - baseHour < 2) {
          pvpTournamentsData.push({ label: pvp["label"], duration: pvp["duration"], color: pvp["color"], start: startTime });
        }
      });
    });

    pvpTournamentsData.sort(function (a, b) {
      return parseInt(a.start.replace(":", "")) - parseInt(b.start.replace(":", ""));
    });
    events["pvp"]["phases"] = pvpTournamentsData;

    return events;
  }
  // Function for moving the etline to the correct location based on
  // the current server time
  function moveLine() {
    // server time = UTC
    var currentTime = moment.utc();
    var localTime = moment();

    // Format with leading 0s so 09:08 doesn't end up as 9:8
    var hour = ("00" + currentTime.hour()).slice(-2);
    var minute = ("00" + currentTime.minute()).slice(-2);
    var localHour = ("00" + localTime.hour()).slice(-2);
    var localMinute = ("00" + localTime.minute()).slice(-2);

    // How far along are we (in  % ) of the current 2 hour event cycles?
    var percentOfTwoHours = ((hour % 2) + minute / 60) * 50;

    // Set the text and move the pointer to that %
    $(".etline .local span").text(localHour + ":" + localMinute);
    $(".etline").css("left", percentOfTwoHours + "%");
  }

  // Function for updating the times
  function updateTimes() {
    // For each block within a map
    $(".bar>div").each(function () {
      var offset = $(this).data("offset");

      var currentTime = moment().utc();
      var localTime = moment();

      // What hour was the start of this 2 hour block?
      var startHour = Math.floor(currentTime.hour() / 2) * 2 + localTime.hour() - currentTime.hour();

      var correctedTime = startHour + (offset > 59 ? 1 : 0);
      if (correctedTime < 0) correctedTime += 24;
      if (correctedTime > 23) correctedTime -= 24;

      // Format the time with leading zeros
      var hour = ("00" + correctedTime).slice(-2);
      var minute = ("00" + (offset % 60)).slice(-2);

      // Set the text
      $(this)
        .find("span")
        .text(hour + ":" + minute);
    });

    var localTime = moment().format("HH:mm UTC Z").replace(":00", "").replace("+0", "+").replace("-0", "-");
    $(".etflag").find("span").text(localTime);
  }

  // Function for setting up the bars when first loaded
  // based on the meta event info at the start
  function setupBars() {
    clearInterval(setupBarsInterval);
    clearInterval(moveLineInterval);
    clearInterval(updateTimesInterval);

    $(".etwrapper").html('<div class="etline"><span class="etflag" title="Your timezone"><span>00:00</span></span></div>');

    // For each meta event..
    var maps = getMaps();

    $.each(maps, function (key, mapMeta) {
      if (!mapMeta.phases) return;

      // Create a bar for it on the page
      var bar = $('<div class="bar"></div>');
      var offset = 0;

      // For each phase within a bar
      $.each(mapMeta.phases, function (i, metaPhase) {
        // Create a block to represent that phase, and set the color
        // and width based on the duration and color info
        var block = $('<div style="background-color: #FFF;" data-offset="0"> <span></span> <strong></strong></div>');
        block.css("background", metaPhase.color);
        block.css("width", (100 * metaPhase.duration) / 120 + "%");

        // Store the bar's offset for use in updating the time
        block.data("offset", offset);
        offset += metaPhase.duration;

        // Set the phase name for this block (e.g. Sandstorm)
        block.find("strong").html(metaPhase.label);

        // add this block to the bar
        bar.append(block);
      });

      // Set the name for the meta event and add the bar to the page
      // $(".etwrapper").append($("<br></br>"));
      $(".etwrapper").append($("<p></p>"));
      $(".etwrapper").append($("<h2>" + mapMeta.name + "</h2>"));
      $(".etwrapper").append(bar);
    });

    // Start the pointer/times at the right place
    moveLine();
    updateTimes();

    // set up a timer to update the pointer and times every 5 seconds
    moveLineInterval = setInterval(moveLine, 5000);
    updateTimesInterval = setInterval(updateTimes, 5000);

    // set up a timer to update the event table every 2 seconds
    var currentTime = moment().utc().format("HH:mm:ss");
    var intervalSeconds = (1 - (parseInt(currentTime.substring(0, 2)) % 2)) * 60 * 60 + (60 - parseInt(currentTime.substring(3, 5))) * 60 + 61 - parseInt(currentTime.substring(6, 8));
    console.log(currentTime, intervalSeconds);

    setupBarsInterval = setInterval(setupBars, intervalSeconds * 1000);
  }

  // Now lets do the things
  setupBars();
</script>

<p></p>

<p>本事件时间表基于 <a href="https://jsfiddle.net/saelfaer/wywgdjod/" target="_blank" rel="noreferrer noopener">Guild Wars 2 Event Timer</a> 制作，在此对其作者 <a href="https://github.com/saelfaer" target="_blank" rel="noreferrer noopener">saelfaer</a> 表示感谢。</p>

<script>
  function copyToClipboard(text) {
    if (window.clipboardData && window.clipboardData.setData) {
      // Internet Explorer-specific code path to prevent textarea being shown while dialog is visible.
      return clipboardData.setData("Text", text);
    } else if (document.queryCommandSupported && document.queryCommandSupported("copy")) {
      var textarea = document.createElement("textarea");
      textarea.textContent = text;
      textarea.style.position = "fixed"; // Prevent scrolling to bottom of page in Microsoft Edge.
      document.body.appendChild(textarea);
      textarea.select();
      try {
        return document.execCommand("copy"); // Security exception may be thrown by some browsers.
      } catch (ex) {
        console.warn("Copy to clipboard failed.", ex);
        return false;
      } finally {
        document.body.removeChild(textarea);
      }
    }
  }
</script>

		</div>
	</article>
</main>

<div class="authorbox clearfix">
		<figure class="authorbox__avatar">
			<img alt="总之就是非常柠檬 avatar" src="/voidpin/images/TsukuyomiTsukasa.png" class="avatar" height="90" width="90">
		</figure>
		<div class="authorbox__header">
			<span class="authorbox__name"> </span>
		</div>
		<div class="authorbox__description">
			<p><a href="https://space.bilibili.com/18036870" target="_blank" rel="noreferrer noopener"><img src="https://img.shields.io/badge/Bilibili-%E6%80%BB%E4%B9%8B%E5%B0%B1%E6%98%AF%E9%9D%9E%E5%B8%B8%E6%9F%A0%E6%AA%AC-ff69b4?style=flat&amp;labelColor=00a1d6&amp;logo=bilibili&amp;logoColor=ff69b4" alt=""></a></p>
<p>一个不明真相的吃瓜群众，最近正在收购柠檬。IGN: Saber Lily.1960</p>

		</div>
	
</div>

<nav class="pager flex">
	<div class="pager__item pager__item--prev">
		<a class="pager__link" href="/tools/wvw-server-kdr/" rel="prev">
			<span class="pager__subtitle">«&thinsp;上一篇</span>
			<p class="pager__title">激战2 各服务器 每小时击杀数据统计</p>
		</a>
	</div>
</nav>


			</div>
			
		</div>
		<footer class="footer">
	<div class="container footer__container flex">
		
		<div class="footer__copyright">
			&copy; 2021 voidpin.com | All trademarks and copyrights on this site are owned by their respective owners. 未经授权禁止转载、摘编、复制或建立镜像.
			<span class="footer__copyright-credits">基于 <a href="https://gohugo.io/" rel="nofollow noopener" target="_blank">Hugo</a> 引擎和 <a href="https://github.com/Vimux/Mainroad/" rel="nofollow noopener" target="_blank">Mainroad</a> 主题</span>
		</div>
	</div>
</footer>
	</div>
<script async defer src="/js/menu.js"></script>
<script src="/voidpin/js/custom.js"></script><script async src="/npm/armory-embeds-voidpin@0.4.3/armory-embeds.js"></script>
<script>
  document.GW2A_EMBED_OPTIONS = {
    lang: "zh",
  };
</script>
<script src="/npm/vanilla-back-to-top@7.2.1/vanilla-back-to-top.min.js"></script>
<script>
  addBackToTop({
	diameter: 56,
	backgroundColor: 'rgb(255, 82, 82)',
	textColor: '#fff'
  })
</script>
<script>
	window.onload = function() {
		document.body.addEventListener('mousedown', ev => {
			const a = event.target.closest('a');
			if (a && a.hasAttribute('href') && a.getAttribute('href').toString().includes('guildwars2.com/wiki/Special:Search/')) {
				const b = a.parentNode.parentNode.parentNode;
				if (b.hasAttribute('data-armory-ids')) {
					const c = b.getElementsByClassName('gw2a--M9jBV');
					var wikiid = 0;
					if (c.length > 1) {
						for (let i = 0; i < c.length; i++) {
							if (c[i].contains(a)) {
								wikiid = b.getAttribute('data-armory-ids').toString().split(',')[i];
								break;
							}
						}
					} else {
						wikiid = b.getAttribute('data-armory-ids').toString().replace(',', '');
					}
					a.href = 'https://wiki.guildwars2.com/wiki/Special:RunQuery/Search_by_id?title=Special%3ARunQuery%2FSearch_by_id&pfRunQueryFormName=Search+by+id&Search+by+id%5Bid%5D=' + wikiid;
				};
			}
		});
	}	
</script>
</body>
</html>